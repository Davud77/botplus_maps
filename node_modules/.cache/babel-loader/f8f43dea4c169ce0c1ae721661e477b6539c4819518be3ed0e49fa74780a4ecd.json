{"ast":null,"code":"var _jsxFileName = \"/app/src/components/maps/orthoLayer/OrthoPanel.tsx\";\nimport React from 'react';\nimport '../../../assets/css/orthoPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrthoPanel = ({\n  onClose,\n  orthoImages,\n  onOrthoSelect,\n  selectedOrthos = [],\n  fitToBounds\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ortho-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ortho-panel-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"ortho-panel-title\",\n        children: \"\\u041E\\u0440\\u0442\\u043E\\u0444\\u043E\\u0442\\u043E\\u043F\\u043B\\u0430\\u043D\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ortho-panel-close\",\n        onClick: onClose,\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ortho-panel-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"ortho-subtitle\",\n        children: \"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ortho-cards-grid\",\n        children: [orthoImages.map(ortho => {\n          const isSelected = selectedOrthos.some(o => o.id === ortho.id);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `ortho-card ${isSelected ? 'selected' : ''}`,\n            onClick: () => {\n              onOrthoSelect(ortho);\n              fitToBounds(ortho);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ortho-card-image-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                // Главное — убедитесь, что backend действительно отдает ortho.url\n                src: ortho.url,\n                alt: ortho.filename,\n                className: \"ortho-card-image\",\n                onError: e => {\n                  e.target.src = '/placeholder.jpg';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ortho-card-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"ortho-card-title\",\n                children: ortho.filename\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this), ortho.bounds && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ortho-card-bounds\",\n                children: [\"W: \", ortho.bounds.west.toFixed(4), \", S: \", ortho.bounds.south.toFixed(4), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 23\n                }, this), \"E: \", ortho.bounds.east.toFixed(4), \", N: \", ortho.bounds.north.toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ortho-card-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: isSelected,\n                  onChange: () => {\n                    onOrthoSelect(ortho);\n                    fitToBounds(ortho);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 21\n                }, this), ' ', \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)]\n          }, ortho.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }, this);\n        }), orthoImages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#ccc',\n            marginTop: '1rem'\n          },\n          children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043E\\u0440\\u0442\\u043E\\u0444\\u043E\\u0442\\u043E\\u043F\\u043B\\u0430\\u043D\\u043E\\u0432 \\u043F\\u0443\\u0441\\u0442...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n};\n_c = OrthoPanel;\nexport default OrthoPanel;\nvar _c;\n$RefreshReg$(_c, \"OrthoPanel\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","OrthoPanel","onClose","orthoImages","onOrthoSelect","selectedOrthos","fitToBounds","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","ortho","isSelected","some","o","id","src","url","alt","filename","onError","e","target","bounds","west","toFixed","south","east","north","type","checked","onChange","length","style","color","marginTop","_c","$RefreshReg$"],"sources":["/app/src/components/maps/orthoLayer/OrthoPanel.tsx"],"sourcesContent":["import React from 'react';\nimport { OrthoImageType } from './OrthoLayer';\nimport '../../../assets/css/orthoPanel.css';\n\ninterface OrthoPanelProps {\n  onClose: () => void;\n  orthoImages: OrthoImageType[];\n  onOrthoSelect: (ortho: OrthoImageType) => void;\n  selectedOrthos?: OrthoImageType[];\n  fitToBounds: (ortho: OrthoImageType) => void;\n}\n\nconst OrthoPanel: React.FC<OrthoPanelProps> = ({\n  onClose,\n  orthoImages,\n  onOrthoSelect,\n  selectedOrthos = [],\n  fitToBounds,\n}) => {\n  return (\n    <div className=\"ortho-panel\">\n      <div className=\"ortho-panel-header\">\n        <h3 className=\"ortho-panel-title\">Ортофотопланы</h3>\n        <button className=\"ortho-panel-close\" onClick={onClose}>\n          ✕\n        </button>\n      </div>\n\n      <div className=\"ortho-panel-content\">\n        <h4 className=\"ortho-subtitle\">Последние загрузки</h4>\n        <div className=\"ortho-cards-grid\">\n          {orthoImages.map((ortho) => {\n            const isSelected = selectedOrthos.some((o) => o.id === ortho.id);\n            return (\n              <div\n                key={ortho.id}\n                className={`ortho-card ${isSelected ? 'selected' : ''}`}\n                onClick={() => {\n                  onOrthoSelect(ortho);\n                  fitToBounds(ortho);\n                }}\n              >\n                <div className=\"ortho-card-image-wrapper\">\n                  <img\n                    // Главное — убедитесь, что backend действительно отдает ortho.url\n                    src={ortho.url}\n                    alt={ortho.filename}\n                    className=\"ortho-card-image\"\n                    onError={(e) => {\n                      (e.target as HTMLImageElement).src = '/placeholder.jpg';\n                    }}\n                  />\n                </div>\n                <div className=\"ortho-card-info\">\n                  <h5 className=\"ortho-card-title\">{ortho.filename}</h5>\n                  {ortho.bounds && (\n                    <p className=\"ortho-card-bounds\">\n                      W: {ortho.bounds.west.toFixed(4)}, S: {ortho.bounds.south.toFixed(4)}\n                      <br />\n                      E: {ortho.bounds.east.toFixed(4)}, N: {ortho.bounds.north.toFixed(4)}\n                    </p>\n                  )}\n                </div>\n                <div className=\"ortho-card-actions\">\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={isSelected}\n                      onChange={() => {\n                        onOrthoSelect(ortho);\n                        fitToBounds(ortho);\n                      }}\n                    />\n                    {' '}Показать\n                  </label>\n                </div>\n              </div>\n            );\n          })}\n\n          {orthoImages.length === 0 && (\n            <div style={{ color: '#ccc', marginTop: '1rem' }}>\n              Список ортофотопланов пуст...\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrthoPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}